function openAbout(){closeDiv.style.display="block",modalAbout.style.display="block"}function closeAbout(){closeDiv.style.display="none",modalAbout.style.display="none"}function jump(){ball.classList.add("action__jump"),setTimeout(function(){ball.classList.remove("action__jump")},1500)}function walkLeft(){ball.classList.add("action__walk-left"),setTimeout(function(){ball.classList.remove("action__walk-left")},4e3)}function walkRight(){ball.classList.add("action__walk-right"),setTimeout(function(){ball.classList.remove("action__walk-right")},4e3)}var aboutButtom=document.getElementById("aboutButtom"),closeDiv=document.getElementById("closeAbout"),modalAbout=document.getElementById("modalAbout"),ball=document.getElementById("testBall");window.addEventListener("DOMContentLoaded",function(){var btn_gravacao=document.querySelector("#btn_gravar_audio"),failed=document.querySelector("#failIndicator"),transcricao_audio="",esta_gravando=!1,phrase=["pula","direita","esquerda"];if(window.SpeechRecognition||window.webkitSpeechRecognition){var recebe_audio=new(window.SpeechRecognition||window.webkitSpeechRecognition);recebe_audio.continuous=!0,recebe_audio.interimResults=!0,recebe_audio.lang="pt-BR",recebe_audio.onstart=function(){esta_gravando=!0,btn_gravacao.innerHTML="Reconhecendo... (clique para parar)"},recebe_audio.onend=function(){esta_gravando=!1,btn_gravacao.innerHTML="Reconhecer voz"},recebe_audio.onresult=function(event){for(var interim_transcript="",i=event.resultIndex;i<event.results.length;i++){event.results[i].isFinal?transcricao_audio=event.results[i][0].transcript:interim_transcript=event.results[i][0].transcript;var resultado=transcricao_audio||interim_transcript;for(j=0;j<phrase.length;j++)resultado==phrase[j]?(failed.style.backgroundColor="#7f8c8d","pula"==resultado&&jump(),"esquerda"==resultado&&walkLeft(),"direita"==resultado&&walkRight()):(failed.style.backgroundColor="#d63031",failed.innerHTML=resultado)}},btn_gravacao.addEventListener("click",function(e){esta_gravando?recebe_audio.stop():recebe_audio.start()},!1)}else alert("O navegador nÃ£o suporta a WebSpeechAPI")},!1);